<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
     
    
    
    <script type="text/javascript">
    $(document).ready(function($)
    {
        //ajax row data
        var ajax_data =
        [
            {mtopic:"Philosophy", mcategory:"stoicism", mquestion:"What things are truly in my control?"}, 
            {mtopic:"Quizzes", mcategory:"Number quiz", mquestion:"2+2"},
            {mtopic:"Quizzes", mcategory:"Number quiz", mquestion:"2+6"},
            {mtopic:"Quizzes", mcategory:"Number quiz", mquestion:"2*5"},
        ]
    
    
    
        var random_id = function  () 
        {
            var id_num = Math.random().toString(9).substr(2,3);
            var id_str = Math.random().toString(36).substr(2);
            
            return id_num + id_str;
        }
    
    
        //--->create data table > start
        var tbl = '';
        tbl +='<table class="table table-hover">'
    
            //--->create table header > start
            tbl +='<thead>';
                tbl +='<tr>';
                tbl +='<th>Topic</th>';
                tbl +='<th>Category</th>';
                tbl +='<th>Question</th>';
                tbl +='<th>Options</th>';
                tbl +='</tr>';
            tbl +='</thead>';
            //--->create table header > end
    
            
            //--->create table body > start
            tbl +='<tbody>';
    
                //--->create table body rows > start
                $.each(ajax_data, function(index, val) 
                {
                    //you can replace with your database row id
                    var row_id = random_id();
    
                    //loop through ajax row data
                    tbl +='<tr row_id="'+row_id+'">';
                        tbl +='<td ><div class="row_data" edit_type="click" col_name="mtopic">'+val['mtopic']+'</div></td>';
                        tbl +='<td ><div class="row_data" edit_type="click" col_name="mcategory">'+val['mcategory']+'</div></td>';
                        tbl +='<td ><div class="row_data" edit_type="click" col_name="mquestion">'+val['mquestion']+'</div></td>';
    
                        //--->edit options > start
                        tbl +='<td>';
                         
                            tbl +='<span class="btn_edit" > <a href="#" class="btn btn-link " row_id="'+row_id+'" > Edit</a> </span>';
    
                            //only show this button if edit button is clicked
                            tbl +='<span class="btn_save"> <a href="#" class="btn btn-link"  row_id="'+row_id+'"> Save</a> | </span>';
                            tbl +='<span class="btn_cancel"> <a href="#" class="btn btn-link" row_id="'+row_id+'"> Cancel</a> | </span>';
    
                        tbl +='</td>';
                        //--->edit options > end
                        
                    tbl +='</tr>';
                });
    
                //--->create table body rows > end
    
            tbl +='</tbody>';
            //--->create table body > end
    
        tbl +='</table>'	
        //--->create data table > end
    
        //out put table data
        $(document).find('.tbl_user_data').html(tbl);
    
        $(document).find('.btn_save').hide();
        $(document).find('.btn_cancel').hide(); 
    
    
        //--->make div editable > start
        $(document).on('click', '.row_data', function(event) 
        {
            event.preventDefault(); 
    
            if($(this).attr('edit_type') == 'button')
            {
                return false; 
            }
    
            //make div editable
            $(this).closest('div').attr('contenteditable', 'true');
            //add bg css
            $(this).addClass('bg-warning').css('padding','5px');
    
            $(this).focus();
        })	
        //--->make div editable > end
    
    
        //--->save single field data > start
        $(document).on('focusout', '.row_data', function(event) 
        {
            event.preventDefault();
    
            if($(this).attr('edit_type') == 'button')
            {
                return false; 
            }
    
            var row_id = $(this).closest('tr').attr('row_id'); 
            
            var row_div = $(this)				
            .removeClass('bg-warning') //add bg css
            .css('padding','')
    
            var col_name = row_div.attr('col_name'); 
            var col_val = row_div.html(); 
    
            var arr = {};
            arr[col_name] = col_val;
    
            //use the "arr"	object for your ajax call
            $.extend(arr, {row_id:row_id});
    
            //out put to show
            $('.post_msg').html( '<pre class="bg-success">'+JSON.stringify(arr, null, 2) +'</pre>');
            
        })	
        //--->save single field data > end
    
     
        //--->button > edit > start	
        $(document).on('click', '.btn_edit', function(event) 
        {
            event.preventDefault();
            var tbl_row = $(this).closest('tr');
    
            var row_id = tbl_row.attr('row_id');
    
            tbl_row.find('.btn_save').show();
            tbl_row.find('.btn_cancel').show();
    
            //hide edit button
            tbl_row.find('.btn_edit').hide(); 
    
            //make the whole row editable
            tbl_row.find('.row_data')
            .attr('contenteditable', 'true')
            .attr('edit_type', 'button')
            .addClass('bg-warning')
            .css('padding','3px')
    
            //--->add the original entry > start
            tbl_row.find('.row_data').each(function(index, val) 
            {  
                //this will help in case user decided to click on cancel button
                $(this).attr('original_entry', $(this).html());
            }); 		
            //--->add the original entry > end
    
        });
        //--->button > edit > end
    
    
        //--->button > cancel > start	
        $(document).on('click', '.btn_cancel', function(event) 
        {
            event.preventDefault();
    
            var tbl_row = $(this).closest('tr');
    
            var row_id = tbl_row.attr('row_id');
    
            //hide save and cacel buttons
            tbl_row.find('.btn_save').hide();
            tbl_row.find('.btn_cancel').hide();
    
            //show edit button
            tbl_row.find('.btn_edit').show();
    
            //make the whole row editable
            tbl_row.find('.row_data')
            .attr('edit_type', 'click')
            .removeClass('bg-warning')
            .css('padding','') 
    
            tbl_row.find('.row_data').each(function(index, val) 
            {   
                $(this).html( $(this).attr('original_entry') ); 
            });  
        });
        //--->button > cancel > end
    
        
        //--->save whole row entery > start	
        $(document).on('click', '.btn_save', function(event) 
        {
            event.preventDefault();
            var tbl_row = $(this).closest('tr');
    
            var row_id = tbl_row.attr('row_id');
    
            
            //hide save and cacel buttons
            tbl_row.find('.btn_save').hide();
            tbl_row.find('.btn_cancel').hide();
    
            //show edit button
            tbl_row.find('.btn_edit').show();
    
    
            //make the whole row editable
            tbl_row.find('.row_data')
            .attr('edit_type', 'click')
            .removeClass('bg-warning')
            .css('padding','') 
    
            //--->get row data > start
            var arr = {}; 
            tbl_row.find('.row_data').each(function(index, val) 
            {   
                var col_name = $(this).attr('col_name');  
                var col_val  =  $(this).html();
                arr[col_name] = col_val;
            });
            //--->get row data > end
    
            //use the "arr"	object for your ajax call
            $.extend(arr, {row_id:row_id});
    
            //out put to show
            $('.post_msg').html( '<pre class="bg-success">'+JSON.stringify(arr, null, 2) +'</pre>')
             
    
        });
        //--->save whole row entery > end
    
    
    }); 
    </script>
    
     
    
    <div class="panel panel-default">
      <div class="panel-heading"><b> Edit my Topics/cards Demo </b> </div>
    
      <div class="panel-body">
        
        <div class="tbl_user_data"></div>
    
      </div>
    
    </div>
    
     
    
    <div class="panel panel-default">
      <div class="panel-heading"><b>HTML Table Edits/Upates</b> </div>
    
      <div class="panel-body">
        
        <p>All the changes will be displayed below</p>
        <div class="post_msg"> </div>
    
      </div>
    </div>
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <!-- bootstrap css -->
 <!-- main css -->
 <link rel="stylesheet" href="/static/css/main.css">
 <!-- google fonts -->
 <link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet">
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


 <!-- font awesome -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
 <title>Flashcard Project</title>
 <style>
 </style>
</head>

<body>

 <div class="container"  style=" display: grid; grid-template-columns: repeat(23, 1fr)">
  <div class="row">
    <h3 class="text-capitalize" style="margin-bottom: 13px;margin-left: 13px;">Quiz Generator</h3>
    <br>
    <a href="/topics" style="padding-left: 9px;padding-top: 5px;">see topics</a>
   <div class="col-11 col-lg-6 my-3">

    <body>
        <div id="maincontentstyle">
        <div id="boxstyle">
            <div>
            <div id="inputs">
                    <div id="inputBoxes" style="display: grid;
                    grid-template-columns: 2fr repeat(2, 1fr);
                    grid-template-rows: repeat(3, 1fr);
                    grid-column-gap: 9px;
                    grid-row-gap: 13px;">
                        <title>Input:</title>
                        <div>
                        Topic: <input id= "topic" type="text" value="">
                        </div>
                        <div>
                        ID: <input id= "ID" type="text" value="">
                        </div>   
                        <div>
                        Category: <input id="category" type="text" value="">
                        </div>
                        <div>
                        prompt 1: <input id="pl1" type="text" value=""> 
                        </div>
                        <div>
                        question 1: <input id="ql1" type="text" value=""> 
                        </div>
                        <div>
                        answer 1: <input id="al1" type="text" value=""> 
                        </div>
                    </div>
                    <span style="padding: 3px">
                    <button id ="add_more" class="button" type="button" onClick="add_more()" style="padding-top: 1px;margin-top: 15px;margin-bottom: 15px;margin-right: 3px;">Add More</button>
                    <button id ="add_more" class="button" type="button" onClick="save()">Save</button>
                    </span>
                    <br>
                    <br>
                    <h5>
                        See my process maps from  <a href="https://lucid.app/lucidchart/8c0c3e0a-a731-45d9-9f0f-b42a64a34ba2/view">Lucidchart</a> where I have been documenting this app and brainstorming some ideas
                    </h5>
                </div>
                </div>
            </div>
        </div>
   </div>
  </div>

   </div>

  </div>
 </div>

 




 <!-- jquery -->
 
</body>

</html>
<script type="text/javascript" src="/static/js/app.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script>
    var numberOfInputs = 1;

    function add_more() {
    // we've added more inputs.
    addMore = true;

    // set html generated to false, because new inputs have been added.
    htmlGenerated = false;
    
    // increment the number of inputs.
    numberOfInputs++;

    //fetch the input boxes.
    inputs = document.getElementById("inputBoxes");

    // create newline
    br = document.createElement("br");

    // //create a new row for a prompt term.
    row0 = document.createElement("div");

    // // set the key term text.
    row0.innerHTML = "Prompt ";
    row0.innerHTML +=numberOfInputs;
    row0.innerHTML +=" :";

    // // create the input for the prompt.
    key = document.createElement("input");
    key.setAttribute("id","pl"+numberOfInputs);

    // //add the key to the row.
    row0.appendChild(key);
    row0.after(br);
    
    //create a new row for a key term.
    row1 = document.createElement("div");

    // set the key term text.
    row1.innerHTML = "Question ";
    row1.innerHTML +=numberOfInputs;
    row1.innerHTML +=" :";

    // create the input for the key.
    key = document.createElement("input");
    key.setAttribute("id","ql"+numberOfInputs);

    //add the key to the row.
    row1.appendChild(key);
    row1.after(br);

    //create a row for the new description.
    row2 = document.createElement("div");

    // set the description text.
    row2.innerHTML = "Answer  "
    row2.innerHTML+=numberOfInputs;
    row2.innerHTML+=" :";
    row2.after(br);

    // create the description input
    description = document.createElement("input");
    description.setAttribute("id","al"+numberOfInputs);

    // add the description to the row.
    row2.appendChild(description);

    // add the rows for the key and the description to the inputBoxes.
    inputs.appendChild(row0);
    inputs.appendChild(row1);
    inputs.appendChild(row2);
    }
</script>